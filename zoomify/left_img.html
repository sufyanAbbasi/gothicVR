<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style type="text/css"> 
            body, html{
                margin: 0;
                padding: 0;
                background-color: rgb(50,50,50);
            }
            #myContainer { 
                width: 100%; height: 100%;
            }
        </style>
        <script type="text/javascript" src="ZoomifyImageViewerEnterprise-src.js"></script>
        <script type="text/javascript"> 
        var zoomifyPaths = ["./Albi_074"];

        Z.showImage("myContainer", zoomifyPaths[currentImageIndex], 
                    "zNavigatorVisible=0&zToolbarVisible=0&zInitialZoom=" + currentZoom + 
                    "&zClickZoom=0&zMousePan=0&zKeys=0&zConstrainPan=3&zPanSpeed=1&zSmoothPanEasing=3&zZoomSpeed=5&zMinZoom=0");

        var ZOOM_MULTIPLIER = 10;

        var MAX_LEVEL = 8;

        var imageWidth = 5412;
        var imageHeight = 7216;

        var currentImageIndex = 0;

        var lastCenter = Z.viewportCurrent.calculateCurrentCenterCoordinates();

        var lastBoundingBox = Z.getViewportDisplayBoundingBoxInPixels();

        var currentLevel = 0;

        var currentZoom = currentLevel * ZOOM_MULTIPLIER;

        //pagePoints: [top left, top center, top right, middle left, center, middle right, bottom left, bottom center, bottom, right]
        var pagePoints = [{x: imageWidth/4, y: , z: }, {}, {}, {}, {}]

        function increaseLevel(){
            curentLevel = (currentLevel < MAX_LEVEL) ? curentLevel + 1 : currentLevel;
            currentZoom = currentLevel * ZOOM_MULTIPLIER;
        }

        function decreaseLevel(){
            curentLevel = (currentLevel < MAX_LEVEL) ? curentLevel + 1 : currentLevel;
            currentZoom = currentLevel * ZOOM_MULTIPLIER;
        }

        function getCenter(){
            return Z.viewportCurrent.calculateCurrentCenterCoordinates();
        }

        function getBoundingBox(){
            return Z.getViewportDisplayBoundingBoxInPixels(true);
        }

        function calculateNextImagePoints(){
            var center = getCenter();
            var boundingBox = getBoundingBox();

            return 
        }




            Z.Utils.addEventListener(document, 'tilt-up', function(e){
                Z.viewportCurrent.pan('up');
                Z.viewportCurrent.updateView(true);
            });

            Z.Utils.addEventListener(document, 'tilt-down', function(e){
                Z.viewportCurrent.pan('down');
                Z.viewportCurrent.updateView(true);
            });

            Z.Utils.addEventListener(document, 'no-vertical-tilt', function(e){
                Z.viewportCurrent.pan('verticalStop');
                Z.viewportCurrent.updateView(true);
            });

            Z.Utils.addEventListener(document, 'tilt-left', function(e){
                Z.viewportCurrent.pan('left');
                Z.viewportCurrent.updateView(true);
            });

            Z.Utils.addEventListener(document, 'tilt-right', function(e){
                Z.viewportCurrent.pan('right');
                Z.viewportCurrent.updateView(true);
            });

            Z.Utils.addEventListener(document, 'no-horizontal-tilt', function(e){
                Z.viewportCurrent.pan('horizontalStop');
                Z.viewportCurrent.updateView(true);
            });

            Z.Utils.addEventListener(document, 'zoom-start', function(e){

                Z.viewportCurrent.zoom('in');
                Z.viewportCurrent.updateView(true);

            });

            Z.Utils.addEventListener(document, 'zoom-end', function(e){

                Z.viewportCurrent.zoom('stop');
                Z.viewportCurrent.updateView(true);

            });

            Z.Utils.addEventListener(document, 'zoom-out', function(e){

                Z.viewportCurrent.zoom('out');
                Z.viewportCurrent.updateView(true);

                setTimeout(function(){
                    Z.viewportCurrent.zoom('stop');
                    Z.viewportCurrent.updateView(true);
                }, 500);

            });

        </script>
            
        <script type="text/javascript"> 
            window.addEventListener("orientationchange", function() {
                document.location.reload(true);
            }, false);
        </script>

    </head>
    <body>
        <div id="myContainer"></div>
    </body>
</html>